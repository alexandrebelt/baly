{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, Fragment as _Fragment } from \"vue\";\nimport _imports_0 from '../assets/images/hand.png';\nimport _imports_1 from '../assets/images/share.png';\nimport _imports_2 from '../assets/images/lata.png';\nimport _imports_3 from '../assets//images/bala.png';\nconst _hoisted_1 = {\n  class: \"heading-1\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"heading-in\"\n};\nconst _hoisted_3 = {\n  class: \"fig-title\"\n};\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = {\n  class: \"share-text\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"locked-background\"\n};\nconst _hoisted_7 = {\n  class: \"share-options\"\n};\nconst _hoisted_8 = [\"href\"];\nconst _hoisted_9 = [\"href\"];\nconst _hoisted_10 = [\"href\"];\nconst _hoisted_11 = [\"href\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [!$data.startedWidget ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _cache[3] || (_cache[3] = [_createElementVNode(\"img\", {\n    id: \"hand\",\n    src: _imports_0\n  }, null, -1 /* HOISTED */), _createElementVNode(\"h6\", null, [_createTextVNode(\" Toque na \"), _createElementVNode(\"span\", null, \"Bala\"), _createTextVNode(\" para ganhar a sua figurinha!\")], -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(\"div\", {\n    key: 1,\n    class: \"sorteio-imagens\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.stopShuffling && $options.stopShuffling(...args))\n  }, [_cache[5] || (_cache[5] = _createElementVNode(\"h6\", null, [_createTextVNode(\" Toque na \"), _createElementVNode(\"span\", null, \"Figurinha\"), _createTextVNode(\" para \")], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"p\", null, _toDisplayString($data.stickerText), 1 /* TEXT */)]), $data.selectedImage ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    class: \"imgs-figurinhas\",\n    src: $data.selectedImage,\n    alt: \"Imagem sorteada\"\n  }, null, 8 /* PROPS */, _hoisted_4)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"p\", null, _toDisplayString($data.stickerShareText), 1 /* TEXT */)]), !$data.isShuffling ? (_openBlock(), _createElementBlock(\"a\", {\n    key: 1,\n    id: \"button-share\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.shareSticker && $options.shareSticker(...args))\n  }, _cache[4] || (_cache[4] = [_createElementVNode(\"div\", {\n    class: \"btn\"\n  }, [_createElementVNode(\"img\", {\n    src: _imports_1,\n    alt: \"share\"\n  }), _createElementVNode(\"span\", null, \"compartilhar\")], -1 /* HOISTED */)]))) : _createCommentVNode(\"v-if\", true)]))]), _cache[6] || (_cache[6] = _createElementVNode(\"div\", {\n    id: \"lata-e-bala\"\n  }, [_createElementVNode(\"img\", {\n    id: \"lata\",\n    src: _imports_2\n  }), _createElementVNode(\"img\", {\n    id: \"bala\",\n    src: _imports_3\n  })], -1 /* HOISTED */)), $data.showShareOptions ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"a\", {\n    href: 'https://api.whatsapp.com/send?text=' + encodeURIComponent(_ctx.shareText + ' ' + _ctx.shareUrl),\n    target: \"_blank\"\n  }, \" WhatsApp \", 8 /* PROPS */, _hoisted_8), _createElementVNode(\"a\", {\n    href: 'https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(_ctx.shareUrl),\n    target: \"_blank\"\n  }, \" Facebook \", 8 /* PROPS */, _hoisted_9), _createElementVNode(\"a\", {\n    href: 'https://twitter.com/intent/tweet?text=' + encodeURIComponent(_ctx.shareText) + '&url=' + encodeURIComponent(_ctx.shareUrl),\n    target: \"_blank\"\n  }, \" Twitter \", 8 /* PROPS */, _hoisted_10), _createElementVNode(\"a\", {\n    href: 'mailto:?subject=Minha figurinha&body=' + encodeURIComponent(_ctx.shareText + ' ' + _ctx.shareUrl),\n    target: \"_blank\"\n  }, \" E-mail \", 8 /* PROPS */, _hoisted_11), _createElementVNode(\"a\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.copiaCola && $options.copiaCola(...args))\n  }, \" Copiar \")])])) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_imports_0","_imports_1","_imports_2","_imports_3","class","key","_createElementBlock","_Fragment","_createElementVNode","_hoisted_1","$data","startedWidget","_hoisted_2","_cache","id","src","_createTextVNode","onClick","args","$options","stopShuffling","_hoisted_3","_toDisplayString","stickerText","selectedImage","alt","_hoisted_4","_createCommentVNode","_hoisted_5","stickerShareText","isShuffling","shareSticker","showShareOptions","_hoisted_6","_hoisted_7","href","encodeURIComponent","_ctx","shareText","shareUrl","target","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","copiaCola"],"sources":["/Users/alexandrebeltramini/RepositoriosGit/baly-freegels/src/components/HomePage.vue"],"sourcesContent":["<template>\n  <div class=\"heading-1\">\n    <div class=\"heading-in\" v-if=\"!startedWidget\">\n\n      <img id=\"hand\" src=\"../assets/images/hand.png\" />\n      <h6> Toque na <span>Bala</span> para ganhar a sua figurinha!</h6>\n    </div>\n\n    <div v-else class=\"sorteio-imagens\" @click=\"stopShuffling\">\n      <h6> Toque na <span>Figurinha</span> para </h6>\n      <div class=\"fig-title\">\n        <p>{{ stickerText }}</p>\n      </div>\n      <img class=\"imgs-figurinhas\" v-if=\"selectedImage\" :src=\"selectedImage\" alt=\"Imagem sorteada\" />\n      <div class=\"share-text\">\n        <p>{{ stickerShareText }}</p>\n      </div>\n\n      <a v-if=\"!isShuffling\" id=\"button-share\" @click=\"shareSticker\">\n        <div class=\"btn\">\n          <img src=\"../assets/images/share.png\" alt=\"share\">\n          <span>compartilhar</span>\n        </div>\n      </a>\n    </div>\n  </div>\n\n\n\n  <div id=\"lata-e-bala\">\n    <img id=\"lata\" src=\"../assets/images/lata.png\">\n    <img id=\"bala\" src=\"../assets//images/bala.png\">\n  </div>\n\n\n  <div v-if=\"showShareOptions\" class=\"locked-background\">\n    <div  class=\"share-options\">\n    <a :href=\"'https://api.whatsapp.com/send?text=' + encodeURIComponent(shareText + ' ' + shareUrl)\" target=\"_blank\">\n      WhatsApp\n    </a>\n    <a :href=\"'https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(shareUrl)\" target=\"_blank\">\n      Facebook\n    </a>\n    <a :href=\"'https://twitter.com/intent/tweet?text=' + encodeURIComponent(shareText) + '&url=' + encodeURIComponent(shareUrl)\"\n      target=\"_blank\">\n      Twitter\n    </a>\n    <a :href=\"'mailto:?subject=Minha figurinha&body=' + encodeURIComponent(shareText + ' ' + shareUrl)\" target=\"_blank\">\n      E-mail\n    </a>\n    <a @click=\"copiaCola\">\n      Copiar\n    </a>\n  </div>\n  </div>\n</template>\n\n<script>\nimport gsap from 'gsap';\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      isShuffling: false,\n      startedWidget: false,\n      images: [],\n      selectedImage: null,\n      stickerText: null,\n      stickerShareText: null,\n      currentIndex: 0,\n      interval: null,\n      showShareOptions: false,\n    }\n  },\n  created() {\n    setTimeout(() => {\n      axios.get('figurinhas.json')\n        .then(res => {\n          this.images = res.data;\n        })\n        .catch(error => {\n          console.error(\"Erro ao carregar o JSON:\", error);\n        });\n    }, 1000)\n  },\n  mounted() {\n    const bala = document.querySelector('#bala');\n\n\n    bala.addEventListener('click', () => {\n\n      gsap.to('#lata-e-bala', {\n        y: \"10%\",\n        duration: 1,\n        ease: 'power4.inOut'\n      })\n      gsap.to('.heading-1', {\n        height: \"80vh\",\n        duration: 1,\n        ease: 'power4.inOut'\n      })\n      setTimeout(() => {\n        this.startedWidget = true,\n          this.startShuffling()\n      }, 1000)\n    })\n\n    gsap.to('.fig-title', { opacity: 0 })\n\n    document.querySelector('.locked-background').addEventListener('click', ()=>{\n\n          this.showShareOptions= false;\n          console.log('reste')\n\n\n    })\n\n\n  },\n\n  methods: {\n    shareSticker() {\n      if (!this.stickerText) {\n        alert(\"Ainda não há uma figurinha para compartilhar!\");\n        return;\n      }\n\n      const texto = `Eu tirei ${this.stickerText}, qual você vai tirar?`;\n      const url = window.location.href;\n\n      if (navigator.share && typeof navigator.share === \"function\") {\n        navigator.share({\n          title: \"Compartilhar figurinha\",\n          text: texto,\n          url: url\n        })\n          .then(() => console.log(\"Compartilhamento concluído\"))\n          .catch((error) => console.error(\"Erro ao compartilhar:\", error));\n      } else {\n        this.showShareOptions = true;\n      }\n    },\n\n    openFallbackShare(url, text) {\n      const encodedText = encodeURIComponent(text);\n      const encodedUrl = encodeURIComponent(url);\n\n      // Abrir popup com botões para redes sociais\n      const shareLinks = `\n    <p>Compartilhe sua figurinha:</p>\n    <a href=\"https://api.whatsapp.com/send?text=${encodedText} ${encodedUrl}\" target=\"_blank\">WhatsApp</a><br>\n    <a href=\"https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}\" target=\"_blank\">Facebook</a><br>\n    <a href=\"https://twitter.com/intent/tweet?text=${encodedText}&url=${encodedUrl}\" target=\"_blank\">Twitter</a><br>\n    <a href=\"mailto:?subject=Minha figurinha&body=${encodedText} ${encodedUrl}\" target=\"_blank\">E-mail</a>\n  `;\n\n\n      document.write(shareLinks);\n    },\n    startShuffling() {\n      this.isShuffling = true;\n      if (this.images.length === 0) return;\n\n      this.isShuffling = true;\n      this.interval = setInterval(() => {\n        if (this.isShuffling) {\n          this.currentIndex = (this.currentIndex + 1) % this.images.length;\n          this.selectedImage = this.images[this.currentIndex].image;\n          this.stickerText = this.images[this.currentIndex].title;\n          this.stickerShareText = this.images[this.currentIndex].shareCopy;\n        }\n      }, 100);\n    },\n    copiaCola() {\n      const texto = `Eu tirei ${this.stickerText}, qual você vai tirar?`;\n      const url = window.location.href;\n\n      const tempInput = document.createElement(\"input\");\n      tempInput.value = `${texto} ${url}`;\n      document.body.appendChild(tempInput);\n      tempInput.select();\n      document.execCommand(\"copy\");\n      document.body.removeChild(tempInput);\n      alert(\"Link copiado para a área de transferência!\");\n\n      getTransitionRawChildren.w\n    },\n    stopShuffling() {\n      this.isShuffling = false;\n      clearInterval(this.interval);\n    }\n  }\n}\n\n</script>\n\n<style lang=\"scss\">\n.heading-1 {\n  min-width: 320px;\n  width: clamp(320px, 20vw, 50vw);\n  margin-bottom: 15px;\n}\n\n.share-text {\n  font-weight: 400;\n  text-transform: uppercase;\n}\n\n.heading-1,\n.heading-in {\n  position: relative;\n  background-color: white;\n  padding: 20px;\n\n  display: flex;\n  align-items: start;\n  border-radius: 20px;\n  gap: 10px;\n\n\n  span {\n    color: #7E1416\n  }\n\n  #hand {\n    max-width: 24px;\n    object-fit: contain;\n  }\n\n  h6 {\n    font-size: 20px !important;\n    max-width: 240px;\n    text-align: left;\n    margin: 0;\n  }\n}\n\n#lata-e-bala {\n  position: relative;\n\n}\n\n#lata {\n  height: 80vh;\n}\n\n#bala {\n  height: 52vh;\n  position: absolute;\n  bottom: 13px;\n  left: 50%;\n  transform: translatex(-50%);\n  transition: filter .3s;\n  cursor: pointer;\n\n  &:hover {\n    -webkit-filter: drop-shadow(1px 1px 1px white);\n    filter: drop-shadow(1px 1px 1px white);\n  }\n}\n\n.sorteio-imagens {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 0 auto;\n\n  .imgs-figurinhas {\n    aspect-ratio: 9/16;\n    max-width: 250px;\n    min-width: 200px;\n    height: auto;\n    object-fit: cover;\n  }\n}\n\n.btn {\n  background-color: #7E1416;\n\n  padding: 5px 10px;\n  display: flex;\n  flex-direction: row;\n  border-radius: 50px;\n  gap: 10px;\n  margin-top: 20px;\n\n  img {\n    max-width: 13px !important;\n    object-fit: contain;\n  }\n\n  span {\n    font-weight: 700;\n    color: white;\n  }\n}\n\n.share-options {\n  background: white;\n  padding: 40px;\n  min-width: 320px;\n  display: flex;\n  gap: 10px;\n  border-radius: 20px;\n  height: fit-content;\n}\n.locked-background {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 100vw;\n  background: rgba(0,0,0,0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}