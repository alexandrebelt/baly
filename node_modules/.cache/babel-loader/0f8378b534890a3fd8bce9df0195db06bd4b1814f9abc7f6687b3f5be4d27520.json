{"ast":null,"code":"import gsap from 'gsap';\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      isShuffling: false,\n      startedWidget: false,\n      images: [],\n      selectedImage: null,\n      stickerText: null,\n      stickerShareText: null,\n      currentIndex: 0,\n      interval: null,\n      showShareOptions: false,\n      texto: '',\n      url: ''\n    };\n  },\n  created() {\n    setTimeout(() => {\n      axios.get('figurinhas.json').then(res => {\n        this.images = res.data;\n      }).catch(error => {\n        console.error(\"Erro ao carregar o JSON:\", error);\n      });\n    }, 500);\n  },\n  mounted() {\n    const tl = gsap.timeline();\n    const bala = document.querySelector('#bala');\n    gsap.to('.heading-in', {\n      opacity: 1,\n      duration: .5\n    });\n    bala.addEventListener('click', () => {\n      gsap.to('.heading-in', {\n        opacity: 0,\n        duration: .5\n      });\n      setTimeout(() => {\n        this.startedWidget = true, this.startShuffling();\n        setTimeout(() => {\n          gsap.to('.heading-in', {\n            opacity: 1,\n            duration: .5\n          });\n          gsap.to('.white-container', {\n            paddingBottom: '25px'\n          });\n          tl.to('.wrapper-figurinhas', {\n            maxHeight: '360px',\n            duration: .5,\n            ease: 'power1.inOut'\n          });\n          tl.to('.wrapper-figurinhas', {\n            duration: .5,\n            opacity: 1,\n            ease: 'power1.inOut'\n          });\n        }, 200);\n      }, 300);\n    });\n    gsap.to('.fig-title', {\n      opacity: 0\n    });\n  },\n  methods: {\n    closeShare() {\n      this.showShareOptions = false;\n      console.log('share Closed!');\n    },\n    shareSticker() {\n      this.showShareOptions = true;\n      this.texto = `Eu tirei ${this.stickerText || \"uma figurinha surpresa\"}, qual você vai tirar?`;\n      this.url = window.location.href;\n    },\n    startShuffling() {\n      this.isShuffling = true;\n      if (this.images.length === 0) return;\n      this.isShuffling = true;\n      this.interval = setInterval(() => {\n        if (this.isShuffling) {\n          this.currentIndex = (this.currentIndex + 1) % this.images.length;\n          this.selectedImage = this.images[this.currentIndex].image;\n          this.stickerText = this.images[this.currentIndex].title;\n          this.stickerShareText = this.images[this.currentIndex].shareCopy;\n        }\n      }, 100);\n    },\n    copiaCola() {\n      const texto = `Eu tirei ${this.stickerText || \"uma figurinha surpresa\"}, qual você vai tirar?`;\n      const url = window.location.href;\n      const tempInput = document.createElement(\"input\");\n      tempInput.value = `${texto} ${url}`;\n      document.body.appendChild(tempInput);\n      tempInput.select();\n      document.execCommand(\"copy\");\n      document.body.removeChild(tempInput);\n      alert(\"Link copiado para a área de transferência!\");\n      this.closeShare();\n    },\n    stopShuffling() {\n      this.isShuffling = false;\n      clearInterval(this.interval);\n      setTimeout(() => {\n        gsap.to('.heading-in', {\n          opacity: 1,\n          duration: .5\n        });\n      }, 100);\n    }\n  }\n};","map":{"version":3,"names":["gsap","axios","data","isShuffling","startedWidget","images","selectedImage","stickerText","stickerShareText","currentIndex","interval","showShareOptions","texto","url","created","setTimeout","get","then","res","catch","error","console","mounted","tl","timeline","bala","document","querySelector","to","opacity","duration","addEventListener","startShuffling","paddingBottom","maxHeight","ease","methods","closeShare","log","shareSticker","window","location","href","length","setInterval","image","title","shareCopy","copiaCola","tempInput","createElement","value","body","appendChild","select","execCommand","removeChild","alert","stopShuffling","clearInterval"],"sources":["/Users/alexandrebeltramini/RepositoriosGit/baly/src/components/HomePage.vue"],"sourcesContent":["<template>\n  <div class=\"white-container\">\n\n    <div class=\"heading-in\" v-if=\"!startedWidget\">\n      <img id=\"hand\" src=\"../assets/images/hand.png\" />\n      <h6> Toque na <span>Bala</span> para ganhar a sua figurinha!</h6>\n    </div>\n\n\n    <div v-else class=\"sorteio-imagens \" @click=\"stopShuffling\">\n      <div v-if=\"isShuffling\" class=\"heading-in centralize\">\n        <h6> Toque na <span>Figurinha</span> para sortear uma!</h6>\n      </div>\n      <div v-else class=\"fig-title heading-in centralize\">\n        <h6>{{ stickerText }}</h6>\n      </div>\n      <div class=\"wrapper-figurinhas\">\n        <img class=\"imgs-figurinhas\" v-if=\"selectedImage\" :src=\"selectedImage\" alt=\"Imagem sorteada\" />\n      </div>\n\n      <div v-if=\"!isShuffling\">\n        <div class=\"share-text\">\n          <p v-html=\"stickerShareText\"></p>\n        </div>\n        <a id=\"button-share\" @click=\"shareSticker\">\n          <div class=\"btn\">\n            <img src=\"../assets/images/share.png\" alt=\"share\">\n            <span>compartilhar</span>\n          </div>\n        </a>\n      </div>\n    </div>\n  </div>\n\n\n\n  <div id=\"lata-e-bala\">\n    <img id=\"lata\" src=\"../assets/images/lata.png\">\n    <img id=\"bala\" src=\"../assets//images/bala.png\">\n  </div>\n\n\n  <div v-if=\"showShareOptions\" class=\"locked-background\" @click=\"closeShare\">\n    <div class=\"share-options\">\n      <h6>Compartilhe em suas redes!</h6>\n      <div class=\"share-buttons\">\n        <a :href=\"'https://api.whatsapp.com/send?text=' + encodeURIComponent(texto + ' ' + url)\" target=\"_blank\">\n          <img src=\"../assets/images/social/whatsapp.png\" alt=\"whatsapp\">\n        </a>\n        <a @click=\"copiaCola\" href=\"https://www.instagram.com/direct/inbox/\" target=\"_blank\">\n          <img src=\"../assets/images/social/instagram.png\" alt=\"Instagram\">\n        </a>\n\n        <a @click=\"copiaCola\" :href=\"'https://m.me/?link=' + encodeURIComponent(url)\" target=\"_blank\">\n          <img src=\"../assets/images/social/messenger.png\" alt=\"messenger\">\n        </a>\n\n\n        <a :href=\"'https://twitter.com/intent/tweet?text=' + encodeURIComponent(texto) + '&url=' + encodeURIComponent(url)\"\n          target=\"_blank\">\n          <img src=\"../assets/images/social/twitter.png\" alt=\"twitter\">\n        </a>\n        <a @click=\"copiaCola\">\n          <img src=\"../assets/images/social/layer.png\" alt=\"copy-paste\">\n        </a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gsap from 'gsap';\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      isShuffling: false,\n      startedWidget: false,\n      images: [],\n      selectedImage: null,\n      stickerText: null,\n      stickerShareText: null,\n      currentIndex: 0,\n      interval: null,\n      showShareOptions: false,\n      texto: '',\n      url: ''\n    }\n  },\n  created() {\n    setTimeout(() => {\n      axios.get('figurinhas.json')\n        .then(res => {\n          this.images = res.data;\n        })\n        .catch(error => {\n          console.error(\"Erro ao carregar o JSON:\", error);\n        });\n    }, 500)\n  },\n  mounted() {\n    const tl = gsap.timeline();\n    const bala = document.querySelector('#bala');\n\n    gsap.to('.heading-in', {\n      opacity: 1,\n      duration: .5\n    })\n    bala.addEventListener('click', () => {\n\n      gsap.to('.heading-in', {\n        opacity: 0,\n        duration: .5\n      })\n\n\n\n      setTimeout(() => {\n        this.startedWidget = true,\n          this.startShuffling()\n\n        setTimeout(() => {\n          gsap.to('.heading-in', {\n            opacity: 1,\n            duration: .5\n          })\n          gsap.to('.white-container', {\n            paddingBottom: '25px'\n          })\n          tl.to('.wrapper-figurinhas', {\n            maxHeight: '360px',\n            duration: .5,\n            ease: 'power1.inOut'\n          })\n          tl.to('.wrapper-figurinhas', {\n            duration: .5,\n            opacity: 1,\n            ease: 'power1.inOut'\n          })\n        }, 200)\n\n      }, 300)\n    })\n\n    gsap.to('.fig-title', { opacity: 0 })\n\n  },\n\n  methods: {\n    closeShare() {\n      this.showShareOptions = false;\n      console.log('share Closed!')\n    },\n\n\n\n    shareSticker() {\n      this.showShareOptions = true;\n      this.texto = `Eu tirei ${this.stickerText || \"uma figurinha surpresa\"}, qual você vai tirar?`;\n      this.url = window.location.href\n\n    },\n\n    startShuffling() {\n      this.isShuffling = true;\n      if (this.images.length === 0) return;\n\n      this.isShuffling = true;\n      this.interval = setInterval(() => {\n        if (this.isShuffling) {\n          this.currentIndex = (this.currentIndex + 1) % this.images.length;\n          this.selectedImage = this.images[this.currentIndex].image;\n          this.stickerText = this.images[this.currentIndex].title;\n          this.stickerShareText = this.images[this.currentIndex].shareCopy;\n        }\n      }, 100);\n    },\n\n\n\n    copiaCola() {\n      const texto = `Eu tirei ${this.stickerText || \"uma figurinha surpresa\"}, qual você vai tirar?`;\n      const url = window.location.href;\n\n      const tempInput = document.createElement(\"input\");\n      tempInput.value = `${texto} ${url}`;\n      document.body.appendChild(tempInput);\n      tempInput.select();\n      document.execCommand(\"copy\");\n      document.body.removeChild(tempInput);\n      alert(\"Link copiado para a área de transferência!\");\n\n      this.closeShare()\n    },\n\n\n\n    stopShuffling() {\n      this.isShuffling = false;\n      clearInterval(this.interval);\n      setTimeout(() => {\n        gsap.to('.heading-in', {\n          opacity: 1,\n          duration: .5\n        })\n      }, 100)\n    }\n  }\n}\n\n</script>\n\n<style lang=\"scss\">\nh6 {\n  line-height: 1.2em;\n}\n\n.white-container {\n  min-width: 310px;\n  height: auto;\n  margin-bottom: 15px;\n  gap: 10px;\n  //transition: .5s;\n  margin-top: 30px;\n  justify-content: center;\n  position: relative;\n  background-color: white;\n  padding: 10px;\n  display: flex;\n  align-items: start;\n  border-radius: 20px;\n  gap: 10px;\n  margin-left: auto;\n  margin-right: auto;\n  transition: .5s;\n\n  .heading-in {\n    position: relative;\n    background-color: white;\n    padding: 10px;\n    display: flex;\n    align-items: start;\n    border-radius: 20px;\n    gap: 10px;\n    margin-left: auto;\n    margin-right: auto;\n    opacity: 0;\n\n    span {\n      color: #7E1416\n    }\n\n    #hand {\n      max-width: 24px;\n      object-fit: contain;\n    }\n\n    h6 {\n      font-size: 20px !important;\n      max-width: 240px;\n      text-align: left;\n      margin: 0;\n    }\n  }\n\n  .sorteio-imagens {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n\n    .wrapper-figurinhas {\n      opacity: 0;\n      aspect-ratio: 9/16;\n      overflow: hidden;\n      max-height: 0;\n\n      .imgs-figurinhas {\n        aspect-ratio: 9/16;\n        max-width: 200px;\n        min-width: 200px;\n        height: auto;\n        object-fit: cover;\n      }\n    }\n\n\n    .share-text {\n      font-weight: 600;\n      font-size: 12px;\n      margin-top: 10px;\n      text-transform: uppercase;\n      max-width: 250px;\n    }\n  }\n}\n\n\n\n\n#lata-e-bala {\n  position: relative;\n\n  #lata {\n    height: 80vh;\n  }\n\n  #bala {\n    height: 52vh;\n    position: absolute;\n    bottom: 13px;\n    left: 50%;\n    transform: translatex(-50%);\n    cursor: pointer;\n    transition: filter .5s;\n\n    &:hover {\n      -webkit-filter: drop-shadow(1px 1px 1px white);\n      filter: drop-shadow(1px 1px 1px white);\n    }\n  }\n\n}\n\n.btn {\n  background-color: #7E1416;\n  cursor: pointer;\n  padding: 5px 10px;\n  display: flex;\n  flex-direction: row;\n  border-radius: 50px;\n  gap: 10px;\n  margin-top: 20px;\n  display: inline-flex;\n\n  img {\n    max-width: 13px !important;\n    object-fit: contain;\n  }\n\n  span {\n    font-weight: 700;\n    color: white;\n  }\n}\n\n\n\n\n\n.locked-background {\n  position: fixed;\n  top: 0;\n  right: 0;\n  width: 100vw;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n\n  .share-options {\n    background: white;\n    padding: 40px;\n    max-width: 320px;\n    display: flex;\n    gap: 10px;\n    border-radius: 20px;\n    height: fit-content;\n    flex-direction: column;\n\n    .share-buttons {\n      display: flex;\n      flex-direction: row;\n      gap: 10px;\n      justify-content: space-between;\n\n    }\n\n    img {\n      max-width: 30px;\n    }\n  }\n}\n\n.centralize {\n  h6 {\n    text-align: center !important;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}