{"ast":null,"code":"import gsap from 'gsap';\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      isShuffling: false,\n      startedWidget: false,\n      images: [],\n      selectedImage: null,\n      stickerText: null,\n      stickerShareText: null,\n      currentIndex: 0,\n      interval: null,\n      showShareOptions: false\n    };\n  },\n  created() {\n    setTimeout(() => {\n      axios.get('figurinhas.json').then(res => {\n        this.images = res.data;\n      }).catch(error => {\n        console.error(\"Erro ao carregar o JSON:\", error);\n      });\n    }, 1000);\n  },\n  mounted() {\n    const bala = document.querySelector('#bala');\n    bala.addEventListener('click', () => {\n      gsap.to('#lata-e-bala', {\n        y: \"10%\",\n        duration: 1,\n        ease: 'power4.inOut'\n      });\n      gsap.to('.heading-1', {\n        height: \"80vh\",\n        duration: 1,\n        ease: 'power4.inOut'\n      });\n      setTimeout(() => {\n        this.startedWidget = true, this.startShuffling();\n      }, 1000);\n    });\n    gsap.to('.fig-title', {\n      opacity: 0\n    });\n  },\n  methods: {\n    shareSticker() {\n      if (!this.stickerText) {\n        alert(\"Ainda não há uma figurinha para compartilhar!\");\n        return;\n      }\n      const texto = `Eu tirei ${this.stickerText}, qual você vai tirar?`;\n      const url = window.location.href;\n      if (navigator.share && typeof navigator.share === \"function\") {\n        navigator.share({\n          title: \"Compartilhar figurinha\",\n          text: texto,\n          url: url\n        }).then(() => console.log(\"Compartilhamento concluído\")).catch(error => console.error(\"Erro ao compartilhar:\", error));\n      } else {\n        this.showShareOptions = true;\n      }\n    },\n    openFallbackShare(url, text) {\n      const encodedText = encodeURIComponent(text);\n      const encodedUrl = encodeURIComponent(url);\n\n      // Abrir popup com botões para redes sociais\n      const shareLinks = `\n    <p>Compartilhe sua figurinha:</p>\n    <a href=\"https://api.whatsapp.com/send?text=${encodedText} ${encodedUrl}\" target=\"_blank\">WhatsApp</a><br>\n    <a href=\"https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}\" target=\"_blank\">Facebook</a><br>\n    <a href=\"https://twitter.com/intent/tweet?text=${encodedText}&url=${encodedUrl}\" target=\"_blank\">Twitter</a><br>\n    <a href=\"mailto:?subject=Minha figurinha&body=${encodedText} ${encodedUrl}\" target=\"_blank\">E-mail</a>\n  `;\n      document.write(shareLinks);\n    },\n    startShuffling() {\n      this.isShuffling = true;\n      if (this.images.length === 0) return;\n      this.isShuffling = true;\n      this.interval = setInterval(() => {\n        if (this.isShuffling) {\n          this.currentIndex = (this.currentIndex + 1) % this.images.length;\n          this.selectedImage = this.images[this.currentIndex].image;\n          this.stickerText = this.images[this.currentIndex].title;\n          this.stickerShareText = this.images[this.currentIndex].shareCopy;\n        }\n      }, 100);\n    },\n    copiaCola() {\n      const texto = `Eu tirei ${this.stickerText}, qual você vai tirar?`;\n      const url = window.location.href;\n      const tempInput = document.createElement(\"input\");\n      tempInput.value = `${texto} ${url}`;\n      document.body.appendChild(tempInput);\n      tempInput.select();\n      document.execCommand(\"copy\");\n      document.body.removeChild(tempInput);\n      alert(\"Link copiado para a área de transferência!\");\n    },\n    stopShuffling() {\n      this.isShuffling = false;\n      clearInterval(this.interval);\n    }\n  }\n};","map":{"version":3,"names":["gsap","axios","data","isShuffling","startedWidget","images","selectedImage","stickerText","stickerShareText","currentIndex","interval","showShareOptions","created","setTimeout","get","then","res","catch","error","console","mounted","bala","document","querySelector","addEventListener","to","y","duration","ease","height","startShuffling","opacity","methods","shareSticker","alert","texto","url","window","location","href","navigator","share","title","text","log","openFallbackShare","encodedText","encodeURIComponent","encodedUrl","shareLinks","write","length","setInterval","image","shareCopy","copiaCola","tempInput","createElement","value","body","appendChild","select","execCommand","removeChild","stopShuffling","clearInterval"],"sources":["/Users/alexandrebeltramini/RepositoriosGit/baly-freegels/src/components/HomePage.vue"],"sourcesContent":["<template>\n  <div class=\"heading-1\">\n    <div class=\"heading-in\" v-if=\"!startedWidget\">\n\n      <img id=\"hand\" src=\"../assets/images/hand.png\" />\n      <h6> Toque na <span>Bala</span> para ganhar a sua figurinha!</h6>\n    </div>\n\n    <div v-else class=\"sorteio-imagens\" @click=\"stopShuffling\">\n      <div class=\"fig-title\">\n        <p>{{ stickerText }}</p>\n      </div>\n      <img class=\"imgs-figurinhas\" v-if=\"selectedImage\" :src=\"selectedImage\" alt=\"Imagem sorteada\" />\n      <div class=\"share-text\">\n        <p>{{ stickerShareText }}</p>\n      </div>\n\n      <a id=\"button-share\" @click=\"shareSticker\">\n        <div class=\"btn\">\n          <img src=\"../assets/images/share.png\" alt=\"share\">\n          <span>compartilhar</span>\n        </div>\n      </a>\n    </div>\n  </div>\n\n  <div v-if=\"showShareOptions\" class=\"share-options\">\n    <a :href=\"'https://api.whatsapp.com/send?text=' + encodeURIComponent(shareText + ' ' + shareUrl)\" target=\"_blank\">\n      WhatsApp\n    </a>\n    <a :href=\"'https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(shareUrl)\" target=\"_blank\">\n      Facebook\n    </a>\n    <a :href=\"'https://twitter.com/intent/tweet?text=' + encodeURIComponent(shareText) + '&url=' + encodeURIComponent(shareUrl)\"\n      target=\"_blank\">\n      Twitter\n    </a>\n    <a :href=\"'mailto:?subject=Minha figurinha&body=' + encodeURIComponent(shareText + ' ' + shareUrl)\" target=\"_blank\">\n      E-mail\n    </a>\n    <a @click=\"copiaCola\">\n      Copiar\n    </a>\n  </div>\n\n  <div id=\"lata-e-bala\">\n    <img id=\"lata\" src=\"../assets/images/lata.png\">\n    <img id=\"bala\" src=\"../assets//images/bala.png\">\n  </div>\n\n</template>\n\n<script>\nimport gsap from 'gsap';\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      isShuffling: false,\n      startedWidget: false,\n      images: [],\n      selectedImage: null,\n      stickerText: null,\n      stickerShareText: null,\n      currentIndex: 0,\n      interval: null,\n      showShareOptions: false,\n    }\n  },\n  created() {\n    setTimeout(() => {\n      axios.get('figurinhas.json')\n        .then(res => {\n          this.images = res.data;\n        })\n        .catch(error => {\n          console.error(\"Erro ao carregar o JSON:\", error);\n        });\n    }, 1000)\n  },\n  mounted() {\n    const bala = document.querySelector('#bala');\n\n\n    bala.addEventListener('click', () => {\n\n      gsap.to('#lata-e-bala', {\n        y: \"10%\",\n        duration: 1,\n        ease: 'power4.inOut'\n      })\n      gsap.to('.heading-1', {\n        height: \"80vh\",\n        duration: 1,\n        ease: 'power4.inOut'\n      })\n      setTimeout(() => {\n        this.startedWidget = true,\n          this.startShuffling()\n      }, 1000)\n    })\n\n    gsap.to('.fig-title', { opacity: 0 })\n\n\n  },\n\n  methods: {\n    shareSticker() {\n      if (!this.stickerText) {\n        alert(\"Ainda não há uma figurinha para compartilhar!\");\n        return;\n      }\n\n      const texto = `Eu tirei ${this.stickerText}, qual você vai tirar?`;\n      const url = window.location.href;\n\n      if (navigator.share && typeof navigator.share === \"function\") {\n        navigator.share({\n          title: \"Compartilhar figurinha\",\n          text: texto,\n          url: url\n        })\n          .then(() => console.log(\"Compartilhamento concluído\"))\n          .catch((error) => console.error(\"Erro ao compartilhar:\", error));\n      } else {\n        this.showShareOptions = true;\n      }\n    },\n\n    openFallbackShare(url, text) {\n      const encodedText = encodeURIComponent(text);\n      const encodedUrl = encodeURIComponent(url);\n\n      // Abrir popup com botões para redes sociais\n      const shareLinks = `\n    <p>Compartilhe sua figurinha:</p>\n    <a href=\"https://api.whatsapp.com/send?text=${encodedText} ${encodedUrl}\" target=\"_blank\">WhatsApp</a><br>\n    <a href=\"https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}\" target=\"_blank\">Facebook</a><br>\n    <a href=\"https://twitter.com/intent/tweet?text=${encodedText}&url=${encodedUrl}\" target=\"_blank\">Twitter</a><br>\n    <a href=\"mailto:?subject=Minha figurinha&body=${encodedText} ${encodedUrl}\" target=\"_blank\">E-mail</a>\n  `;\n\n\n      document.write(shareLinks);\n    },\n    startShuffling() {\n      this.isShuffling = true;\n      if (this.images.length === 0) return;\n\n      this.isShuffling = true;\n      this.interval = setInterval(() => {\n        if (this.isShuffling) {\n          this.currentIndex = (this.currentIndex + 1) % this.images.length;\n          this.selectedImage = this.images[this.currentIndex].image;\n          this.stickerText = this.images[this.currentIndex].title;\n          this.stickerShareText = this.images[this.currentIndex].shareCopy;\n        }\n      }, 100);\n    },\n    copiaCola(){\n      const texto = `Eu tirei ${this.stickerText}, qual você vai tirar?`;\n      const url = window.location.href;\n\n      const tempInput = document.createElement(\"input\");\n        tempInput.value = `${texto} ${url}`;\n        document.body.appendChild(tempInput);\n        tempInput.select();\n        document.execCommand(\"copy\");\n        document.body.removeChild(tempInput);\n        alert(\"Link copiado para a área de transferência!\");\n    },\n    stopShuffling() {\n      this.isShuffling = false;\n      clearInterval(this.interval);\n    }\n  }\n}\n\n</script>\n\n<style lang=\"scss\">\n.heading-1 {\n  min-width: 320px;\n  width: clamp(320px, 20vw, 50vw);\n  margin-bottom: 15px;\n}\n.share-text{\n  font-weight: 400;\n  text-transform: uppercase;\n}\n\n.heading-1,\n.heading-in {\n  position: relative;\n  background-color: white;\n  padding: 20px;\n\n  display: flex;\n  align-items: start;\n  border-radius: 20px;\n  gap: 10px;\n\n\n  span {\n    color: #7E1416\n  }\n\n  #hand {\n    max-width: 24px;\n    object-fit: contain;\n  }\n\n  h6 {\n    font-size: 20px !important;\n    max-width: 240px;\n    text-align: left;\n    margin: 0;\n  }\n}\n\n#lata-e-bala {\n  position: relative;\n\n}\n\n#lata {\n  height: 80vh;\n}\n\n#bala {\n  height: 52vh;\n  position: absolute;\n  bottom: 13px;\n  left: 50%;\n  transform: translatex(-50%);\n  transition: filter .3s;\n  cursor: pointer;\n\n  &:hover {\n    -webkit-filter: drop-shadow(1px 1px 1px white);\n    filter: drop-shadow(1px 1px 1px white);\n  }\n}\n\n.sorteio-imagens {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 0 auto;\n\n  .imgs-figurinhas {\n    aspect-ratio: 9/16;\n    max-width: 250px;\n    min-width: 200px;\n    height: auto;\n    object-fit: cover;\n  }\n}\n\n.btn {\n  background-color: #7E1416;\n\n  padding: 5px 10px;\n  display: flex;\n  flex-direction: row;\n  border-radius: 50px;\n  gap: 10px;\n  margin-top: 20px;\n\n  img {\n    max-width: 13px !important;\n    object-fit: contain;\n  }\n\n  span {\n    font-weight: 700;\n    color: white;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}